@model BugWeb.Models.ReportingViewModel
@{
    ViewBag.Title = "Tabular";
}
@section scripts
{
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.8/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.8/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="~/Scripts/table.js"></script>

    <script type="application/javascript">
        var url = "@Url.Content("~/api/reporting/" + @Model.ActiveFarmId)";
    </script>
}

<label for="blocks">Blocks:</label>
<select id="blocks" class="form-control">
    <option value="all">All Blocks</option>
    
        @foreach (var y in @Model.Farm.Blocks)
        {
            <option svalue="@y.BlockName">@y.BlockName</option>
        }

    
</select>

<label for="timeRange">Time Range:</label>
<div id="timeRange">

    <label for="timeFrom">Starting date:</label>
    <input type="date" id="timeFrom" class="form-control">

    <label for="timeTo">Ending date:</label>
    <input type="date" id="timeTo" class="form-control">
</div>

<label for="species">Bug Species:</label>
<select id="species" class="form-control">
    <option value="all">All Species</option>
</select>

<label for="view">View by:</label>
<select id="view" class="form-control">
    <option value="default">Default Table</option>
    <option value="date">Date</option>
    <option value="species">Species (Pests)</option>
    <option value="blockName">Blocks</option>
</select>

<button style="margin-top: 15px" id="generateBut" data-url="@Url.Content("~/api/reporting/" + @Model.ActiveFarmId)" class="btn-default" onclick="generate()">Generate tables</button>

<table id="table"></table>